<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>
<body>
<div th:replace="~{fragments/header :: header}"></div>

<div class="page-wrapper page-wrapper--narrow">
    <header class="page-header">
        <h1 th:text="#{edit.title}"></h1>
        <p class="page-subtitle" th:text="#{edit.subtitle}"></p>
    </header>

    <div class="page-card">
        <form id="editProductForm" th:action="@{/products/{id}/edit(id=${product.id})}" method="post">
            <input type="hidden" name="id" th:value="${product.id}" />

            <wa-callout variant="primary" open>
                <span th:text="#{edit.callout}"></span>
            </wa-callout>
            <wa-divider></wa-divider>

            <wa-card>
                <div class="edit-form-grid">
                    <wa-input name="title" th:label="#{form.title}" th:value="${product.title}"
                              th:placeholder="#{form.title}" required size="medium" appearance="outlined">
                        <wa-icon slot="start" name="align-left"></wa-icon>
                    </wa-input>
                    <wa-input name="vendor" th:label="#{form.vendor}" th:value="${product.vendor}"
                              th:placeholder="#{form.vendor}" required size="medium" appearance="outlined">
                        <wa-icon slot="start" name="user"></wa-icon>
                    </wa-input>
                </div>
                <div class="edit-form-grid">
                    <wa-input name="productType" th:label="#{form.type}" th:value="${product.productType}"
                              th:placeholder="#{form.type}" required size="medium" appearance="outlined">
                        <wa-icon slot="start" name="tag"></wa-icon>
                    </wa-input>
                    <wa-input name="price" type="number" th:label="#{form.price}" th:value="${product.price}"
                              th:placeholder="#{form.price}" required min="0.01" step="0.01" size="medium" appearance="outlined">
                        <wa-icon slot="start" name="dollar-sign"></wa-icon>
                    </wa-input>
                </div>
                <div class="edit-form-id">
                    <wa-callout variant="quiet" open>
                        <span th:text="#{edit.idReadOnly}">ID: <strong th:text="${product.id}"></strong></span>
                    </wa-callout>
                </div>
            </wa-card>

            <wa-divider></wa-divider>
            <div class="form-actions">
                <wa-button th:href="@{'/?loadProducts=1'}" variant="neutral" appearance="outlined" type="button" size="medium">
                    <wa-icon slot="start" name="arrow-left"></wa-icon>
                    <span th:text="#{nav.cancel}"></span>
                </wa-button>
                <wa-button variant="success" type="submit" form="editProductForm" size="medium">
                    <wa-icon slot="start" name="check"></wa-icon>
                    <span th:text="#{edit.save}"></span>
                </wa-button>
            </div>
        </form>
    </div>
</div>

<style>
    .edit-form-grid {
        display: grid;
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
        gap: 12px;
        margin-bottom: 12px;
    }
    .edit-form-grid wa-input,
    .edit-form-id wa-callout {
        width: 100%;
        max-width: 100%;
        min-width: 0;
        box-sizing: border-box;
    }
    .edit-form-id { margin-top: 12px; }
    .form-actions { display: flex; flex-wrap: wrap; gap: var(--wa-space-s, 8px); align-items: center; }
    .page-card form wa-card { max-width: 100%; overflow: hidden; }
</style>
</body>
</html>